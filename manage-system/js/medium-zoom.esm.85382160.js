/*! medium-zoom 1.0.6 | MIT License | https://github.com/francoischalifour/medium-zoom */
var e=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var o=arguments[t];for(var n in o)Object.prototype.hasOwnProperty.call(o,n)&&(e[n]=o[n])}return e},t=function e(t){return"IMG"===t.tagName},o=function e(t){return NodeList.prototype.isPrototypeOf(t)},n=function e(t){return t&&1===t.nodeType},i=function e(t){var o;return".svg"===(t.currentSrc||t.src).substr(-4).toLowerCase()},r=function e(i){try{return Array.isArray(i)?i.filter(t):o(i)?[].slice.call(i).filter(t):n(i)?[i].filter(t):"string"==typeof i?[].slice.call(document.querySelectorAll(i)).filter(t):[]}catch(r){throw new TypeError("The provided selector is invalid.\nExpects a CSS selector, a Node element, a NodeList or an array.\nSee: https://github.com/francoischalifour/medium-zoom")}},d=function e(t){var o=document.createElement("div");return o.classList.add("medium-zoom-overlay"),o.style.background=t,o},a=function e(t){var o=t.getBoundingClientRect(),n=o.top,i=o.left,r=o.width,d=o.height,a=t.cloneNode(),m=window.pageYOffset||document.documentElement.scrollTop||document.body.scrollTop||0,l=window.pageXOffset||document.documentElement.scrollLeft||document.body.scrollLeft||0;return a.removeAttribute("id"),a.style.position="absolute",a.style.top=n+m+"px",a.style.left=i+l+"px",a.style.width=r+"px",a.style.height=d+"px",a.style.transform="",a},m=function t(o,n){var i=e({bubbles:!1,cancelable:!1,detail:void 0},n);if("function"==typeof window.CustomEvent)return new CustomEvent(o,i);var r=document.createEvent("CustomEvent");return r.initCustomEvent(o,i.bubbles,i.cancelable,i.detail),r},l=function t(o){var l=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},c=window.Promise||function e(t){function o(){}t(o,o)},u=function e(t){var o=t.target;o!==N?-1!==O.indexOf(o)&&w({target:o}):E()},s=function e(){if(!A&&T.original){var t=window.pageYOffset||document.documentElement.scrollTop||document.body.scrollTop||0;Math.abs(k-t)>S.scrollOffset&&setTimeout(E,150)}},f=function e(t){var o=t.key||t.keyCode;"Escape"!==o&&"Esc"!==o&&27!==o||E()},p=function t(){var o=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},i=o;if(o.background&&(N.style.background=o.background),o.container&&o.container instanceof Object&&(i.container=e({},S.container,o.container)),o.template){var r=n(o.template)?o.template:document.querySelector(o.template);i.template=r}return S=e({},S,i),O.forEach((function(e){e.dispatchEvent(m("medium-zoom:update",{detail:{zoom:j}}))})),j},g=function o(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return t(e({},S,n))},v=function e(){for(var t=arguments.length,o=Array(t),n=0;n<t;n++)o[n]=arguments[n];var i=o.reduce((function(e,t){return[].concat(e,r(t))}),[]);return i.filter((function(e){return-1===O.indexOf(e)})).forEach((function(e){O.push(e),e.classList.add("medium-zoom-image")})),x.forEach((function(e){var t=e.type,o=e.listener,n=e.options;i.forEach((function(e){e.addEventListener(t,o,n)}))})),j},h=function e(){for(var t=arguments.length,o=Array(t),n=0;n<t;n++)o[n]=arguments[n];T.zoomed&&E();var i=o.length>0?o.reduce((function(e,t){return[].concat(e,r(t))}),[]):O;return i.forEach((function(e){e.classList.remove("medium-zoom-image"),e.dispatchEvent(m("medium-zoom:detach",{detail:{zoom:j}}))})),O=O.filter((function(e){return-1===i.indexOf(e)})),j},z=function e(t,o){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return O.forEach((function(e){e.addEventListener("medium-zoom:"+t,o,n)})),x.push({type:"medium-zoom:"+t,listener:o,options:n}),j},y=function e(t,o){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return O.forEach((function(e){e.removeEventListener("medium-zoom:"+t,o,n)})),x=x.filter((function(e){return!(e.type==="medium-zoom:"+t&&e.listener.toString()===o.toString())})),j},b=function t(){var o=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=o.target,d=function t(){var o={width:document.documentElement.clientWidth,height:document.documentElement.clientHeight,left:0,top:0,right:0,bottom:0},r=void 0,d=void 0;if(S.container)if(S.container instanceof Object)r=(o=e({},o,S.container)).width-o.left-o.right-2*S.margin,d=o.height-o.top-o.bottom-2*S.margin;else{var a,m=(n(S.container)?S.container:document.querySelector(S.container)).getBoundingClientRect(),l=m.width,c=m.height,u=m.left,s=m.top;o=e({},o,{width:l,height:c,left:u,top:s})}r=r||o.width-2*S.margin,d=d||o.height-2*S.margin;var f=T.zoomedHd||T.original,p=i(f)?r:f.naturalWidth||r,g=i(f)?d:f.naturalHeight||d,v=f.getBoundingClientRect(),h=v.top,z=v.left,y=v.width,b=v.height,E=Math.min(p,r)/y,w=Math.min(g,d)/b,L=Math.min(E,w),H,C,O="scale("+L+") translate3d("+((r-y)/2-z+S.margin+o.left)/L+"px, "+((d-b)/2-h+S.margin+o.top)/L+"px, 0)";T.zoomed.style.transform=O,T.zoomedHd&&(T.zoomedHd.style.transform=O)};return new c((function(e){if(r&&-1===O.indexOf(r))e(j);else{var t=function t(){A=!1,T.zoomed.removeEventListener("transitionend",t),T.original.dispatchEvent(m("medium-zoom:opened",{detail:{zoom:j}})),e(j)};if(T.zoomed)e(j);else{if(r)T.original=r;else{if(!(O.length>0))return void e(j);var o=O;T.original=o[0]}if(T.original.dispatchEvent(m("medium-zoom:open",{detail:{zoom:j}})),k=window.pageYOffset||document.documentElement.scrollTop||document.body.scrollTop||0,A=!0,T.zoomed=a(T.original),document.body.appendChild(N),S.template){var i=n(S.template)?S.template:document.querySelector(S.template);T.template=document.createElement("div"),T.template.appendChild(i.content.cloneNode(!0)),document.body.appendChild(T.template)}if(document.body.appendChild(T.zoomed),window.requestAnimationFrame((function(){document.body.classList.add("medium-zoom--opened")})),T.original.classList.add("medium-zoom-image--hidden"),T.zoomed.classList.add("medium-zoom-image--opened"),T.zoomed.addEventListener("click",E),T.zoomed.addEventListener("transitionend",t),T.original.getAttribute("data-zoom-src")){T.zoomedHd=T.zoomed.cloneNode(),T.zoomedHd.removeAttribute("srcset"),T.zoomedHd.removeAttribute("sizes"),T.zoomedHd.src=T.zoomed.getAttribute("data-zoom-src"),T.zoomedHd.onerror=function(){clearInterval(l),console.warn("Unable to reach the zoom image target "+T.zoomedHd.src),T.zoomedHd=null,d()};var l=setInterval((function(){T.zoomedHd.complete&&(clearInterval(l),T.zoomedHd.classList.add("medium-zoom-image--opened"),T.zoomedHd.addEventListener("click",E),document.body.appendChild(T.zoomedHd),d())}),10)}else if(T.original.hasAttribute("srcset")){T.zoomedHd=T.zoomed.cloneNode(),T.zoomedHd.removeAttribute("sizes"),T.zoomedHd.removeAttribute("loading");var c=T.zoomedHd.addEventListener("load",(function(){T.zoomedHd.removeEventListener("load",c),T.zoomedHd.classList.add("medium-zoom-image--opened"),T.zoomedHd.addEventListener("click",E),document.body.appendChild(T.zoomedHd),d()}))}else d()}}}))},E=function e(){return new c((function(e){if(!A&&T.original){var t=function t(){T.original.classList.remove("medium-zoom-image--hidden"),document.body.removeChild(T.zoomed),T.zoomedHd&&document.body.removeChild(T.zoomedHd),document.body.removeChild(N),T.zoomed.classList.remove("medium-zoom-image--opened"),T.template&&document.body.removeChild(T.template),A=!1,T.zoomed.removeEventListener("transitionend",t),T.original.dispatchEvent(m("medium-zoom:closed",{detail:{zoom:j}})),T.original=null,T.zoomed=null,T.zoomedHd=null,T.template=null,e(j)};A=!0,document.body.classList.remove("medium-zoom--opened"),T.zoomed.style.transform="",T.zoomedHd&&(T.zoomedHd.style.transform=""),T.template&&(T.template.style.transition="opacity 150ms",T.template.style.opacity=0),T.original.dispatchEvent(m("medium-zoom:close",{detail:{zoom:j}})),T.zoomed.addEventListener("transitionend",t)}else e(j)}))},w=function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},o=t.target;return T.original?E():b({target:o})},L=function e(){return S},H=function e(){return O},C=function e(){return T.original},O=[],x=[],A=!1,k=0,S=l,T={original:null,zoomed:null,zoomedHd:null,template:null};"[object Object]"===Object.prototype.toString.call(o)?S=o:(o||"string"==typeof o)&&v(o),S=e({margin:0,background:"#fff",scrollOffset:40,container:null,template:null},S);var N=d(S.background);document.addEventListener("click",u),document.addEventListener("keyup",f),document.addEventListener("scroll",s),window.addEventListener("resize",E);var j={open:b,close:E,toggle:w,update:p,clone:g,attach:v,detach:h,on:z,off:y,getOptions:L,getImages:H,getZoomedImage:C};return j},c;function u(e,t){void 0===t&&(t={});var o=t.insertAt;if(e&&"undefined"!=typeof document){var n=document.head||document.getElementsByTagName("head")[0],i=document.createElement("style");i.type="text/css","top"===o&&n.firstChild?n.insertBefore(i,n.firstChild):n.appendChild(i),i.styleSheet?i.styleSheet.cssText=e:i.appendChild(document.createTextNode(e))}}u(".medium-zoom-overlay{position:fixed;top:0;right:0;bottom:0;left:0;opacity:0;transition:opacity .3s;will-change:opacity}.medium-zoom--opened .medium-zoom-overlay{cursor:pointer;cursor:zoom-out;opacity:1}.medium-zoom-image{cursor:pointer;cursor:zoom-in;transition:transform .3s cubic-bezier(.2,0,.2,1)!important}.medium-zoom-image--hidden{visibility:hidden}.medium-zoom-image--opened{position:relative;cursor:pointer;cursor:zoom-out;will-change:transform}");export{l as default};
